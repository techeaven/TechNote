---
title: Unix标准文件描述符
categories: D-Linux
permalink: unix-standard-file-descriptor
translate_title: unix-standard-file-descriptor
date: 2015-11-16 15:22:56
tags:
description:
---
## 概述
在之前的一篇文章[Linux文件描述符](http://www.php101.cn/2015/11/02/Linux%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6/)学习到了Linux文件描述符的概念，里面提到了Linux的标准输入、标准输出和标准错误输出。  

这篇文章算是上面一篇文章的输出，解决长期以来的一个疑问，也就是在Linux中输入输出重定向`1`和`&2`，这到底表示什么。  

## 标准输入输出
相信对于大多数使用Linux的人来说，对下面的命令都不会陌生:
```
command > file 2>&1
```
> 注意，2>&1,之间不能有空格


这是一个输出重定向，在bash脚本中几乎都会看到。这条命令的意思是，**command**命令的所有输出都会被重定向到**file**文件中，然后该命令所有的错误输出也会被重定向到file文件中，这一步是通过`2>&1`完成的。  

`2>&1`这一句表示将标准错误输出重定向到与标准输出相同的地方。  

之前的文章已经提到了，标准输入的描述符为0，标准输出的描述符为1，标准错误输出的描述符2，那么命令中`&1`，表示什么，这让我一直很疑惑。查了网上的一些文档，有如下解释：

首先，`2>1`表示将标准错误输出重定向到标准输出，但是这样写可能会被shell解释为将标准错误输出重定向到文件名为**1**的文件中，在1前面加上**&**符号，表示这是一个文件描述符而不是文件名。  

这样解释，对Linux文件描述符就有了客观的认识。  


## 总结
所有问题都会被解决，只是时间长短问题。解决问题的时候，最好能了解问题的根本所在。  


## 参考
* [In the shell, what does “ 2>&1 ” mean?](http://stackoverflow.com/questions/818255/in-the-shell-what-does-21-mean)

<br />

